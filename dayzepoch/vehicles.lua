local vehicleSpawns = {
	--[[MH6J Civilian]]
	{487,-1813.1640625, 1303.326171875, 59.734375},
	{487,-1614.921875, -643.3837890625, 14.1484375},
	{487,-1887.853515625, -1570.0458984375, 21.75},
	{487,1883.9501953125, -1862.265625, 13.577025413513},
	{487,2618.8828125, 2721.025390625, 36.538642883301},
	{487,-1730.0419921875, 2562.21484375, 104.1789932251},
	{487,-2485.6455078125, -2637.0703125, 70.008026123047},
	{487,615.744140625,850.1572265625,-43.009014129639},
	{487,1949.9912109375,-2631.44140625,13.546875},
	{487,-756.53979492188,-2137.5471191406,26.463499069214},
	--[[AH6X Little Bird]]
	{497,-1050.5859375,1968.033203125,120.66523742676},
	{497,-1495.888671875,-2691.40234375,57.325229644775},
	{497,-2688.42578125,1471.634765625,7.1875},
	{497,-1534.28125,2842.9482421875,97.463409423828},
	{497,2221.8583984375,-1344.396484375,23.984273910522},
	{497,-516.7138671875, -81.8935546875, 62.30525970459},
	{497,272.5986328125, 1853.140625, 17.640625},
	--[[HMMWV]]
	{470,-1473.5791015625,320.2294921875,7.1875},
	{470,-1373.998046875,460.62109375,7.1875},
	{470,419.150390625,2186.087890625,39.499450683594},
	{470,2821.1796875,793.4658203125,10.8984375},
	{470,685.0791015625, -132.1826171875, 21.492156982422},
	{470,1643.888671875, -1456.380859375, 13.546875},
	{470,-617.5927734375, -1599.939453125, 21.924146652222},
	{470,-1429.0126953125, -950.1376953125, 201.09375},
	{470,-2100.18359375, -781.294921875, 32.164207458496},
	--[[PICKUP TRUCK]]
	{422,-2479.6240234375,2223.6669921875,4.84375},
	{422,-92.9951171875,2823.0908203125,76.721649169922},
	{422,-2448.99609375,-1335.8662109375,310.97662353516},
	{422,-173.2470703125,-2635.5341796875,26.608192443848},
	{422,2108.447265625,-1600.916015625,13.552597045898},
	{422,2452.7392578125,1607.9833984375,10.8203125},
	{422,-1800.8984375,-1950.9736328125,93.561332702637},
	--[[MOTORCYCLE]]
	{468,-812.470703125,-2629.912109375,90.105056762695},
	{468,-1729.8525390625,-1940.3154296875,99.840209960938},
	{468,-2130.90234375,178.4375,35.257678985596},
	{468,-2656.7333984375,1352.4873046875,7.0596733093262},
	{468,-1598.302734375,2694.947265625,55.07092666626},
	{468,-809.96484375,2430.037109375,156.97012329102},
	{468,2920.38671875,2486.0087890625,10.8203125},
	{468,505.732421875,-291.8681640625,20.00952911377},
	{468,-428.8828125,-694.8310546875,19.14847946167},
	{468,1190.41015625,-2109.0341796875,64.738548278809},
	{468,1658.9716796875,-1069.0224609375,23.906229019165},
	--[[URAL MILITARY]]
	{433,119.15625, 1840.892578125, 17.640625},
	{433,325.5927734375, 2543.6064453125, 16.807554244995},
	{433,-2565.9873046875, 644.0595703125, 14.453125},
	{433,-1018.298828125, -658.0791015625, 32.0078125},
	{433,440.185546875,1464.173828125,6.3338670730591},
	--[[PBX]]
	{473,2463.3984375,-2719.638671875,-0.55000001192093},
	{473,-1577.4873046875,182.353515625,-0.53995263576508},
	{473,-806.80859375,2233.7001953125,40.049976348877},
	{473,-127.4453125,-779.6923828125,-0.55000001192093},
	{473,-192.5087890625, 478.0693359375, -0.55000001192093},
	{473,-458.5732421875, 1231.5341796875, -0.55000001192093},
	{473,-1891.7529296875, 1490.8125, -0.55000001192093},
	{473,245.4423828125, -1924.4248046875, -0.55000001192093},
	{473,2963.654296875, -153.8125, -0.55000001192093},
	--[[BIKE]]
	{509,194.685546875,-120.2333984375,1.5497757196426},
	{509,173.0146484375,-95.0634765625,1.5516006946564},
	{509,2369.9599609375,29.712890625,28.0416431427},
	{509,710.87109375,-566.7548828125,16.3359375},
	{509,1109.6025390625,-1667.6689453125,13.615442276001},
	{509,2014.6689453125,-1113.4013671875,26.203125},
	{509,2447.41015625,-1967.1845703125,13.546875},
	{509,2633.7236328125,1835.291015625,11.0234375},
	{509,1489.3974609375,2681.54296875,10.8203125},
	{509,-2428.5654296875,2280.875,4.984375},
	{509,-2501.0869140625,2224.880859375,4.9861993789673},
	{509,-2142.8515625,-2457.84765625,30.625},
	{509,-2456.078125,-141.115234375,26.112222671509},
	{509,-1881.4453125,954.3837890625,35.171875},
	--[[ATV]]
	{471,1251.2880859375, -806.5029296875, 83.740625},
	{471,1285.921875, 190.3544921875, 19.703574752808},
	{471,-27.7275390625, 27.3154296875, 2.709395980835},
	{471,-14.1552734375, 951.25390625, 19.193042373657},
	{471,-901.8291015625, 2680.517578125, 41.970262145996},
	{471,2529.6484375, -887.5859375, 87.428672790527},
	{471,2090.0673828125, -694.6650390625, 100.41593933105},
	{471,1287.2080078125, -405.599609375, 8.8966178894043},
	{471,549.796875, -842.3330078125, 90.552108764648},
	{471,-467.8076171875, -1630.7587890625, 6.931001663208},
	--[[MOTORBIKE]]
	{463,-2487.6240234375, 2512.037109375, 18.0625},
	{463,-1358.2392578125, 2068.7177734375, 52.438430786133},
	{463,421.8759765625, 2549.150390625, 16.253837585449},
	{463,1090.0986328125, 2082.1943359375, 10.8203125},
	{463,1880.091796875, 1165.9208984375, 10.828125},
	{463,1464.3740234375, -674.95703125, 94.75},
	{463,1005.921875, -1447.4326171875, 13.554634094238},
	{463,-82.74609375, -1571.041015625, 2.6107201576233},
	{463,-576.6484375, -549.03125, 25.5234375},
	{463,-1671.525390625, 67.57421875, -11.234375},
	--[[SUV]]
	{490,2272.9072265625, 2451.6171875, 10.8203125},
	{490,2575.0712890625, 1029.5390625, 10.8203125},
	{490,1643.158203125, -1026.771484375, 23.8984375},
	{490,226.7568359375, -1398.5419921875, 51.590118408203},
	{490,-2221.2353515625, -122.2490234375, 35.3203125},
	{490,-2417.6650390625, 521.4404296875, 29.9296875},
	{490,-1932.3046875, 1000.7451171875, 35.171875},
	{490,-1038.0703125, 1576.779296875, 34.759017944336},
	--[[TRACTOR]]
	{531,-1427.314453125, -1517.626953125, 101.74019622803},
	{531,-1065.162109375, -1144.94140625, 129.21875},
	{531,-1911.4365234375, -1673.3486328125, 23.015625},
	{531,-1655.119140625, -2209.275390625, 33.405990600586},
	{531,-275.4951171875, -2188.591796875, 28.740524291992},
	{531,-928.376953125, -530.419921875, 25.953638076782},
	{531,-681.79296875, 966.8662109375, 12.1328125},
	{531,2362.4755859375, -100.951171875, 27.095621109009},
	--[[UAZ]]
	{579,1664.5556640625, 720.615234375, 10.8203125},
	{579,1663.923828125, 1338.0439453125, 10.772266387939},
	{579,2081.0009765625, 2172.5234375, 10.8203125},
	{579,-754.6884765625, 1585.376953125, 26.9609375},
	{579,-1980.2978515625, 885.689453125, 45.203125},
	{579,-2272.4521484375, 128.4140625, 35.1640625},
	{579,-2777.3798828125, 241.13671875, 7.1875},
	{579,-2424.501953125, 944.6875, 45.459823608398},
	{579,484.3955078125, -1513.7802734375, 20.310167312622},
	{579,1130.3759765625, -1446.3671875, 15.796875},
	{579,1732.650390625, -1854.7353515625, 13.4140625},
	{579,2244.1845703125, -1415.7373046875, 23.828125},
	{579,-1107.2734375, -1620.8388671875, 76.3671875},
	{579,-2518.62109375, -607.849609375, 132.5625},
	{579,-1894.4921875, 445.4423828125, 35.171875},
	{579,-2131.4384765625, 655.6318359375, 52.3671875},
	--[[Golf]]
	{421,2352.7333984375, -1006.8017578125, 58.937740325928},
	{421,2828.337890625, -1681.142578125, 9.9374475479126},
	{421,1995.0615234375, -1232.2060546875, 20.565172195435},
	{421,1557.4375, 23.005859375, 24.155364990234},
	{421,911.4521484375, -7.48828125, 91.309814453125},
	{421,884.7080078125, -1217.51953125, 16.9765625},
	{421,1479.3212890625, -1709.044921875, 14.046875},
	{421,1762.7890625, -2082.4609375, 13.553119659424},
	{421,2216.1298828125, -2592.41796875, 13.546875},
	{421,2781.5390625, -2351.7294921875, 13.6328125},
	{421,2100.5517578125, 1332.6865234375, 10.8203125},
	{421,1525.701171875, 1923.3046875, 10.8203125},
	{421,-1856.5224609375, 1396.09765625, 7.1875},
	{421,-1929.123046875, 2581.4716796875, 42.818351745605},
	--[[Modern Van]]
	{456,-1934.0986328125, 578.3310546875, 35.171875},
	{456,-1127.482421875, -201.7724609375, 14.1484375},
	{456,-556.6611328125, -1036.681640625, 24.086181640625},
	{456,613.3623046875, -1140.53125, 46.63431930542},
	{456,1748.2763671875, -229.689453125, 78.687210083008},
	{456,1291.673828125, 1106.6171875, 10.73881816864},
	{456,1294.02734375, 2545.361328125, 10.671875},
	{456,1883.4736328125, 2738.154296875, 10.8359375},
	{456,2222.673828125, 1806.875, 10.8203125},
	{456,2401.810546875, 1368.306640625, 10.671875},
	{456,-1523.0732421875, 2296.9404296875, 47.186622619629},
	{456,1059.271484375, 1049.7099609375, 10.2734375},
};

local hospitalPacks = {
	{-2669.810546875, 639.0927734375, 14.053125},
	{-2658.0966796875, 637.7431640625, 14.053125},
	{-2638.5283203125, 638.876953125, 14.053125},
	{-2652.181640625, 552.74609375, 14.209375},
	{-2688.345703125, 553.6337890625, 14.334915733337},
	{-2654.9345703125, 633.3369140625, 14.053125},
	{-2694.3076171875, 638.392578125, 14.053125},
	{-2637.572265625, 696.9736328125, 27.5375},
	{-2665.19140625, 695.7919921875, 27.520307159424},
	{-1514.822265625, 2519.7587890625, 55.63133392334},
	{-1521.0478515625, 2519.8359375, 55.502473449707},
	{-1503.677734375, 2520.8486328125, 55.47378692627},
	{-1522.96484375, 2507.9150390625, 55.540353393555},
	{2024.0693359375, -1402.97265625, 16.798585510254},
	{2033.2880859375, -1402.8564453125, 16.886380767822},
	{2042.83984375, -1413.1630859375, 16.770774459839},
	{2042.009765625, -1427.4677734375, 16.7640625},
	{2029.3125, -1428.6123046875, 16.665500259399},
	{-314.509765625, 1050.140625, 19.940259552002},
	{-319.06640625, 1049.0634765625, 19.940259552002},
	{-325.728515625, 1050.0634765625, 19.940259552002},
	{-332.1376953125, 1049.966796875, 19.339168167114},
	{-337.1044921875, 1049.5712890625, 19.339168167114},
	{1171.5078125, -1309.6982421875, 13.588679885864},
	{1170.759765625, -1306.486328125, 13.596522903442},
	{1172.70703125, -1320.908203125, 14.9976354599},
	{1172.6943359375, -1327.48046875, 15.001947975159},
	{1174.58984375, -1340.8212890625, 13.593054389954},
	{1173.41796875, -1361.3828125, 13.569604492187},
	{1163.5615234375, -1327.96875, 31.089849090576},
	{1158.798828125, -1328.5703125, 31.105243301392},
	{1244.37890625, 325.9541015625, 19.3555103302},
	{1239.740234375, 327.845703125, 19.3555103302},
	{1252.509765625, 325.734375, 19.3578125},
	{1225.9638671875, 311.451171875, 19.3578125},
	{1231.6591796875, 306.80078125, 19.3578125},
	{1237.9169921875, 314.03515625, 24.3578125},
	{1234.138671875, 307.6435546875, 24.3578125},
	{-2203.2255859375, -2309.611328125, 30.975},
	{-2199.4697265625, -2305.3466796875, 30.225},
	{-2195.57421875, -2301.7001953125, 30.225},
	{1615.4423828125, 1816.5458984375, 10.4203125},
	{1608.232421875, 1816.5693359375, 10.4203125},
	{1599.2822265625, 1816.72265625, 10.4203125},
	{1607.111328125, 1832.9912109375, 10.4203125},
	{1583.0029296875, 1769.0986328125, 10.4203125},
	{1603.6259765625, 1789.48046875, 30.06875},
	{1616.2880859375, 1788.2822265625, 30.06875},
	{1622.4111328125, 1766.7880859375, 30.06875},
	{1612.2861328125, 1760.6416015625, 36.9125},
};
local patrolPoints = {
	{-1603.2197265625,-2712.736328125,48.9453125},
	{2465.748046875,-2215.55859375,13.546875},
	{2473.439453125,-2215.56640625,13.546875},
	{2480.0732421875,-2216.140625,13.546875},
	{2487.24609375,-2215.5966796875,13.546875},
	{2494.1005859375,-2215.5859375,13.546875},
	{-1686.6728515625,408.9970703125,7.3984375},
	{-1682.34375,412.9384765625,7.3984375},
	{-1680.0263671875,402.3642578125,7.3984375},
	{-1675.84375,406.4677734375,7.3984375},
	{-1670.5615234375,411.8359375,7.3984375},
	{-1666.2392578125,416.2509765625,7.3984375},
	{-1672.7939453125,422.81640625,7.3984375},
	{-1677.20703125,418.46484375,7.3984375},
	{-2410.7021484375,969.9091796875,45.4609375},
	{-2410.744140625,975.220703125,45.4609375},
	{-2410.837890625,980.5302734375,45.4609375},
	{-1329.3046875,2668.5126953125,50.46875},
	{-1328.7314453125,2673.90625,50.0625},
	{-1327.0185546875,2679.3876953125,50.46875},
	{-1327.3798828125,2684.62890625,50.0625},
	{1940.7099609375,-1778.5244140625,13.390598297119},
	{1940.6552734375,-1774.908203125,13.390598297119},
	{1940.630859375,-1771.728515625,13.390598297119},
	{1940.7080078125,-1767.3837890625,13.390598297119},
	{-1477.921875,1868.138671875,32.639846801758},
	{-1466.1552734375,1869.0048828125,32.6328125},
	{-1464.5224609375,1861.3828125,32.639846801758},
	{-1477.4599609375,1860.5205078125,32.6328125},
	{-735.9208984375,2744.0087890625,47.2265625},
	{-739.0439453125,2744.2421875,47.165451049805},
	{377.6953125,2601.1083984375,16.484375},
	{624.5263671875,1676.25390625,6.9921875},
	{620.2958984375,1681.2431640625,6.9921875},
	{616.248046875,1686.4169921875,7.1875},
	{612.783203125,1691.1650390625,7.1875},
	{609.2060546875,1696.201171875,7.1875},
	{605.8505859375,1700.978515625,7.1875},
	{602.27734375,1706.3603515625,7.1875},
	{2141.037109375,2742.734375,10.960174560547},
	{2142.3115234375,2752.6982421875,10.96019744873},
	{2147.9521484375,2752.3203125,10.8203125},
	{2152.60546875,2751.953125,10.8203125},
	{2152.984375,2743.85546875,10.8203125},
	{2147.75,2743.7392578125,10.8203125},
	{-97.6298828125,-1175.0283203125,2.4990689754486},
	{-90.74609375,-1177.853515625,2.2021217346191},
	{-84.75390625,-1163.853515625,2.3359375},
	{-91.5771484375,-1160.5732421875,2.4453125},
	{-1606.525390625,-2717.2138671875,48.9453125},
	{-1609.7109375,-2721.544921875,48.9453125},
	{-1599.83203125,-2708.302734375,48.9453125},
	{-2246.314453125,-2558.8212890625,32.0703125},
	{-2241.3125,-2561.3662109375,32.0703125},
	{-1132.2880859375,-135.0986328125,14.14396572113},
	{-1153.529296875,-156.373046875,14.1484375},
	{-1142.826171875,-145.67578125,14.14396572113},
	{655.611328125,-557.9912109375,16.501491546631},
	{655.6572265625,-572.1728515625,16.501491546631},
	{1601.791015625,2203.90625,11.060997009277},
	{1596.806640625,2203.4345703125,10.8203125},
	{1590.197265625,2203.4853515625,10.8203125},
	{1589.4775390625,2195.43359375,10.8203125},
	{1596.125,2194.294921875,10.8203125},
	{1601.6591796875,2194.3369140625,10.8203125},
	{2206.8466796875,2470.47265625,10.8203125},
	{2206.94140625,2474.75,10.8203125},
	{2206.9267578125,2478.86328125,10.8203125},
	{2198.06640625,2480.6953125,10.8203125},
	{2197.541015625,2475.791015625,10.995170593262},
	{2197.609375,2471.9169921875,10.995170593262},
	{2120.8251953125,915.4833984375,10.8203125},
	{2115.1181640625,915.44140625,10.8203125},
	{2109.076171875,915.4228515625,10.8203125},
	{2109.22265625,924.8779296875,10.9609375},
	{2114.9404296875,924.8857421875,10.9609375},
	{2119.5126953125,925.2861328125,10.9609375},
	{2645.7197265625,1112.7802734375,10.8203125},
	{2639.984375,1112.56640625,10.8203125},
	{2634.828125,1112.3466796875,10.9609375},
	{2634.1826171875,1101.9482421875,10.8203125},
	{2636.7509765625,1101.6748046875,10.8203125},
	{2643.5126953125,1101.81640625,10.8203125},
	{2209.576171875,2469.8251953125,10.8203125},
	{2208.8310546875,2475.09375,10.8203125},
	{1005.078125,-901.7490234375,42.216625213623},
	{993.025390625,-902.474609375,42.222496032715},
};

local heliCrashSites = {
	{-1360.0478515625,-1070.7314453125,160.4069519043},
	{-421.4619140625,-1284.4345703125,33.740924835205},
	{-2357.654296875,-1634.3623046875,483.703125},
	{979.0849609375,160.59375,28.935249328613},
	{-2057.2294921875,2781.73828125,163.12780761719},
	{826.90234375,2803.6259765625,74.863929748535},
	{2577.7060546875,-650.541015625,136.37449645996},
};

local lootItems = {
	["helicrashsides"] = {
		{"toolbelt7",368,1,90,10},
		{"toolbelt5",328,0.4,90,2},
		{"weapon21",1879,1,90,10},
		{"weapon23",1878,1,90,7},
		{"weapon25",1877,1,90,7},
		{"weapon7",349,1,90,6},
		{"weapon20",1882,1,90,5.5},
		{"weapon24",335,1,90,4},
		{"weapon22",339,1,90,3},
		{"fooditem9",1582,1,0,2},
		{"fooditem7",2647,1,0,2},
		{"item10",1650,1,0,2},
		{"item5",324,1,90,2},
		{"item11",324,1,90,2},
		{"item12",324,1,90,2},
		{"fooditem6",2856,1,0,1},
		{"medicine6",2709,0.5,0,4},
		{"fooditem8",2673,0.5,0,2},
		{"item6",2675,0.5,0,3},
		{"backpack6",1719,1,0,0.5},
		{"weapon16",342,1,0,4},
		{"vest2",2106,1,0,1},
		{"weapon15",351,1,90,4},
		{"helmet1",1738,1,0,1},
		{"helmet2",1745,1,0,1.5},
		{"helmet3",1747,1,0,0.5},
		{"weapon18",1881,1,90,6},
		{"toolbelt3",2710,1,0,4},
		{"backpack7",1250,1,0,0.3},
		{"medicine4",1576,1,0,3},
		{"item2",933,0.25,0,1},
		{"backpack3",3026,1,0,4},
		{"toolbelt7",368,1,90,1.5},
		{"vehiclepart3",1073,1,0,2},
		{"medicine8",1579,1,0,4},
		{"clothing2",1577,1,0,4.5},
		{"clothing3",1577,1,0,2.5},
		{"toolbelt2",2976,0.15,0,3},
		{"toolbelt1",1277,0.8,90,7},
		{"toolbelt4",2969,0.5,0,1},
		{"vehiclepart1",929,0.3,0,2},
		{"item3",1279,1,0,4.5},
		{"clothing1",1577,1,0,0.5},
		{"clothing7",1577,1,0,0.5},
		{"clothing8",1577,1,0,0.5},
		{"clothing9",1577,1,0,0.5},
		{"toolbelt6",369,1,90,3},
		{"backpack4",3026,0.5,0,5},
		{"backpack1",3026,1.3,0,2},
		{"backpack5",3026,1.3,0,2},
	},
	["hospital"] = {
		{"medicine1",1908,0.7,0},
		{"medicine2",2891,0.7,0},
		{"medicine3",1909,0.7,0},
		{"medicine4",1576,1,0},
		{"medicine5",1578,0.5,0},
		{"medicine7",1580,1,0},
		{"medicine8",1579,1,0},
		{"medicine7",1580,1,0},
		{"medicine2",2891,0.7,0},
		{"medicine7",1580,1,0},
		{"medicine6",1580,1,0},
	},
};

local backupItemsTable = {
	{"medicine5"},
	{"medicine6"},
	{"item1"},
	{"fooditem1"},
	{"fooditem3"},
	{"fooditem4"},
	{"fooditem5"},
	{"toolbelt5"},
	{"weapon20"},
	{"weapon24"},
	{"weapon22"},
	{"fooditem9"},
	{"medicine8"},
	{"fooditem7"},
	{"item10"},
	{"item9"},
	{"item5"},
	{"item11"},
	{"item12"},
	{"item13"},
	{"item14"},
	{"fooditem6"},
	{"mag3"},
	{"weapon16"},
	{"weapon21"},
	{"mag1"},
	{"backpack1"},
	{"backpack2"},
	{"backpack3"},
	{"backpack4"},
	{"backpack5"},
	{"backpack6"},
	{"backpack7"},
	{"helmet1"},
	{"helmet2"},
	{"helmet3"},
	{"helmet4"},
	{"helmet5"},
	{"helmet6"},
	{"helmet7"},
	{"vest1"},
	{"vest2"},
	{"weapon23"},
	{"weapon25"},
	{"weapon19"},
	{"mag2"},
	{"weapon18"},
	{"toolbelt3"},
	{"medicine1"},
	{"medicine2"},
	{"medicine3"},
	{"medicine4"},
	{"medicine7"},
	{"toolbelt2"},
	{"toolbelt1"},
	{"toolbelt4"},
	{"toolbelt9"},
	{"item2"},
	{"vehiclepart3"},
	{"vehiclepart1"},
	{"toolbelt6"},
	{"toolbelt7"},
	{"item3"},
	{"item4"},
	{"fooditem11"},
	{"fooditem10"},
	{"clothing2"},
	{"clothing1"},
	{"clothing3"},
	{"clothing4"},
	{"clothing5"},
	{"clothing6"},
	{"clothing7"},
	{"clothing8"},
	{"clothing9"},
	{"weapon28"},
	{"fooditem2"},
	{"fooditem8"},
	{"item6"},
	{"item7"},
	{"item8"},
	{"toolbelt8"},
	{"weapon26"},
	{"weapon27"},
	{"vehiclepart4"},
	{"vehiclepart5"},
	{"vehiclepart2"},
	{"weapon17"},
	{"toolbelt8"},
	{"weapon11"},
	{"weapon12"},
	{"weapon13"},
	{"weapon10"},
	{"weapon6"},
	{"weapon14"},
	{"weapon7"},
	{"weapon15"},
	{"weapon9"},
	{"weapon8"},
	{"weapon2"},
	{"weapon3"},
	{"weapon5"},
	{"weapon1"},
	{"weapon4"},
	{"mag4"},
	{"mag7"},
	{"mag5"},
	{"mag6"},
	{"mag8"},
	{"mag9"},
	{"mag10"}
};

local vehicleAddonsInfo = {
	{422, 4, 1, 1, 1, 0, 25},
	{470, 4, 1, 1, 1, 0, 46},
	{551, 4, 1, 1, 1, 0, 46},
	{420, 4, 1, 1, 1, 0, 46},
	{471, 4, 1, 1, 1, 0, 8},
	{468, 2, 1, 1, 1, 0, 10},
	{433, 6, 1, 1, 1, 0, 70},
	{509, 0, 0, 0, 0, 0, 0},
	{487, 0, 1, 1, 1, 1, 20},
	{497, 0, 1, 1, 1, 1, 20},
	{473, 0, 1, 1, 1, 0, 35},

	{579, 4, 1, 1, 1, 0, 35},
	{529, 4, 1, 1, 1, 0, 35},
	{463, 2, 1, 1, 1, 0, 10},
	{490, 4, 1, 1, 1, 0, 50},
	{531, 4, 1, 1, 1, 0, 0},
	{421, 4, 1, 1, 1, 0, 12},
	{456, 4, 1, 1, 1, 0, 86},

	{528, 4, 1, 1, 1, 0, 50},
};

local vehicleFuelInfo = {
	{422, 0.25},
	{470, 0.2},
	{551, 0.2},
	{420, 0.3},
	{471, 0.1},
	{468, 0.1},
	{433, 0.5},
	{509, 0},
	{487, 0.25},
	{497, 0.25},
	{473, 0.1},

	{579, 0.15},
	{529, 0.15},
	{463, 0.1},
	{490, 0.15},
	{531, 0.1},
	{421, 0.25},
	{456, 0.35},

	{528, 0.50},
};

local vehicleFuelTable = {
	{422, 80},
	{470, 100},
	{551, 100},
	{420, 100},
	{471, 30},
	{468, 30},
	{433, 140},
	{509, 0},
	{487, 60},
	{497, 60},
	{473, 60},

	{579, 45},
	{529, 42},
	{463, 35},
	{490, 75},
	{531, 45},
	{421, 50},
	{456, 120},

	{528, 80},
};

local hospitalCol = {};
local dayzVehicles = {};
local repairTimer = {};
local last_veh_id = 0;
local last_tent_id = 0;
local backupdone = false;

addEvent("respawnVehiclesInWater", true);
addEvent("repairVehicle", true);
addEvent("cancelVehicleRepair", true);
addEvent("respawnDayZVehicle", true);

if fileExists("scripts/tools/backup.db") then
	backupdone = true;
else
	backupdone = false;
end

local db = dbConnect("sqlite", "scripts/tools/backup.db");
dbExec(db, "CREATE TABLE IF NOT EXISTS `vehicles` (model, x, y, z, rX, rY, rZ, slots, fuel, engines, moving, parts, scrap, rotor, items, health, dayz, sx, sy, sz, id)");
dbExec(db, "CREATE TABLE IF NOT EXISTS `tents` (model, x, y, z, rX, rY, rZ, slots, scale, items, id)");
dbExec(db, "CREATE TABLE IF NOT EXISTS `safes` (model, x, y, z, rX, rY, rZ, slots, scale, code, safe_id, items, id)");

function getVehicleAddonInfos(id)
	for _,v in ipairs(vehicleAddonsInfo) do
		if (v[1] == id) then return v[2], v[3], v[4], v[5], v[6], v[7]; end
	end
end

function createHeliCrashSite()
	if isElement(cargoCol) then
		destroyElement(getElementData(cargoCol, "parent"));
		destroyElement(cargoCol);
	end
	local nr = math.random(7);
	local x,y,z = heliCrashSites[nr][1], heliCrashSites[nr][2], heliCrashSites[nr][3];
	local cargobob = createVehicle(548, x, y, z);
	setElementHealth(cargobob, 0);
	setElementFrozen(cargobob, true);
	local cargoCol = createColSphere(x, y, z, 3);
	setElementData(cargoCol, "parent", cargobob);
	setElementData(cargoCol, "helicrash", true);
	setElementData(cargoCol, "MAX_Slots", 0);
	for _,v in ipairs(lootItems["helicrashsides"]) do
		local value =  math.percentChance(v[5]*3.5, math.random(2));
		setElementData(cargoCol, v[1], value);
		local ammoData,_ = getWeaponAmmoType(v[1], true);
		if (ammoData and value > 0) then
			setElementData(cargoCol, ammoData, getMagazineSize(ammoData)*math.random(2));
		end
	end
	setTimer(createHeliCrashSite, 3600000, 1);
end

function updateHospitals()
	for i,_ in pairs(hospitalCol) do
		for _,v in ipairs(lootItems["hospital"]) do
			setElementData(hospitalCol[i], v[1], math.random(5));
		end
	end
	setTimer(updateHospitals, 3600000, 1);
end

function createHospitalPacks()
	local number1 = 0;
	for i,v in ipairs(hospitalPacks) do
		number1 = number1+1;
		local x,y,z = v[1], v[2], v[3];
		local object = createObject(1558, x, y, z-0.15, nil, nil, nil);
		hospitalCol[i] = createColSphere(x, y, z-0.15, 2);
		setObjectScale(object,1)
		setElementData(hospitalCol[i], "parent", object);
		setElementData(hospitalCol[i], "hospitalbox", true);
		setElementData(hospitalCol[i], "MAX_Slots", 28);
	end
	updateHospitals();
end

function spawnDayZVehicles()
	for _,v in ipairs(getElementsByType("vehicle")) do
		local col = getElementData(v, "parent");
		if col then
			destroyElement(col);
		end
		destroyElement(v);
	end
	for _,v in ipairs(vehicleSpawns) do
		local x,y,z = v[2], v[3], v[4];
		local veh = createVehicle(v[1], x, y, z);
		local vehCol = createColSphere(x, y, z, 2.5);
		attachElements(vehCol, veh);
		setElementData(vehCol, "parent", veh);
		setElementData(veh, "parent", vehCol);
		setElementData(vehCol, "vehicle", true);
		setElementData(veh, "dayzvehicle", 1);
		local tires,engine,parts,scrap,rotor,slots = getVehicleAddonInfos(v[1]);
		setElementData(vehCol, "MAX_Slots", tonumber(slots));
		setElementData(vehCol, "Tire_inVehicle", math.random(0, tires));
		setElementData(vehCol, "Engine_inVehicle", math.random(0, engine));
		setElementData(vehCol, "Parts_inVehicle", math.random(0, parts));
		setElementData(vehCol, "Scrap_inVehicle", math.random(0, scrap));
		setElementData(vehCol, "Rotor_inVehicle", math.random(0, rotor));
		setElementData(vehCol, "needtires", tires);
		setElementData(vehCol, "needparts", parts);
		setElementData(vehCol, "needscrap", scrap);
		setElementData(vehCol, "needrotor", rotor);
		setElementData(vehCol, "needengines", engine);
		setElementData(vehCol, "spawn", {v[1], x, y, z});
		setElementData(vehCol, "fuel", math.random(5, 20));
		for _,v in ipairs(lootItems["helicrashsides"]) do
			local value =  math.percentChance(v[5], math.random(2));
			setElementData(vehCol, v[1], value);
			local ammoData,_ = getWeaponAmmoType(v[1], true);
			if (ammoData and value > 0) then
				setElementData(vehCol, ammoData, getMagazineSize(ammoData)*math.random(2));
			end
		end
	end
	backup();
end

addEventHandler("onVehicleExplode", root,  function()
	for _,v in pairs(getVehicleOccupants(source)) do
		triggerEvent("kilLDayZPlayer", v);
	end
	local x1,y1,z1 = getElementPosition(source);
	local col = getElementData(source, "parent");
	local id,x,y,z = unpack(getElementData(col, "spawn"));
	setElementData(col, "deadVehicle", true);
	setElementData(source, "isExploded", true);
	if (getElementData(source, "dayzvehicle") == 1) then
		setTimer(respawnDayZVehicle, 60000*30, 1, id, x, y, z, source, col);
	else
		setTimer(function(col, source)
			if isElement(col) then destroyElement(col); end
			if isElement(source) then destroyElement(source); end
		end, (60000*5), 1, col, source);
	end
end);

setTimer(function()
	for _,v in ipairs(getElementsByType("vehicle")) do
		if (getElementModel(v) ~= 453) then
			local col = getElementData(v, "parent");
			if col then
				if not (getElementData(col, "deadVehicle")) then
					if isElementInWater(v) then
						local id,x,y,z = unpack(getElementData(col, "spawn"));
						if (getElementData(v, "dayzvehicle") == 1) then
							setTimer(respawnDayZVehicle, (5*60000), 1, id, x, y, z, v, col);
						else
							setTimer(function(col, v)
								if col then destroyElement(col); end
								if v then destroyElement(v); end
							end, (5*60000), 1, col, v);
						end
					end
				end
			end
		end
	end
end, (30*60000), 0);

function respawnDayZVehicle(id, x, y, z, veh, col)
	if veh then destroyElement(veh); end
	if col then destroyElement(col); end
	local veh = createVehicle(id, x, y, (tonumber(z)+1));
	local vehCol = createColSphere(x, y, z, 4);
	attachElements(vehCol, veh);
	if (id == 528) then setVehicleDamageProof(veh,true); end
	setElementData(vehCol, "parent", veh);
	setElementData(veh, "parent", vehCol);
	setElementData(vehCol, "vehicle", true);
	setElementData(veh, "dayzvehicle", 1);
	local tires,engine,parts,scrap,rotor,slots = getVehicleAddonInfos(id);
	setElementData(vehCol, "MAX_Slots", tonumber(slots));
	setElementData(vehCol, "Tire_inVehicle", math.random(0, tires));
	setElementData(vehCol, "Engine_inVehicle", math.random(0, engine));
	setElementData(vehCol, "Parts_inVehicle", math.random(0, parts));
	setElementData(vehCol, "Scrap_inVehicle", math.random(0, scrap));
	setElementData(vehCol, "Rotor_inVehicle", math.random(0, rotor));
	setElementData(vehCol, "needtires", tires);
	setElementData(vehCol, "needparts", parts);
	setElementData(vehCol, "needscrap", scrap);
	setElementData(vehCol, "needrotor", rotor);
	setElementData(vehCol, "needengines", engine);
	setElementData(vehCol, "spawn", {id, x, y, z});
	setElementData(vehCol, "fuel", 10);
	for _,v in ipairs(lootItems["helicrashsides"]) do
		local value =  math.percentChance(v[5], math.random(2));
		setElementData(vehCol, v[1], value);
		local ammoData,_ = getWeaponAmmoType(v[1], true);
		if (ammoData and value > 0) then
			setElementData(vehCol, ammoData, getMagazineSize(ammoData)*math.random(2));
		end
	end
end
addEventHandler("respawnDayZVehicle", root, respawnDayZVehicle);

function getVehicleMaxFuel(id)
	for _,v in ipairs(vehicleFuelTable) do
		if (id == v[1]) then return v[2]; end
	end
	return false;
end

addEventHandler("onPlayerVehicleEnter", root, function(veh, seat)
	local id = getElementModel(veh);
	setVehicleEngineState(veh, true);
	if (id == 548) then cancelEvent(); end
	if (id == 509) then return; end
	local col = getElementData(veh, "parent");
	local tires,engine,parts,scrap,rotor,_ = getVehicleAddonInfos(id);
	setElementData(veh, "maxfuel", getVehicleMaxFuel(id));
	setElementData(veh, "needtires", tires);
	setElementData(veh, "needparts", parts);
	setElementData(veh, "needscrap", scrap);
	setElementData(veh, "needrotor", rotor);
	setElementData(veh, "needengines", engine);
	setVehicleEngineState(veh, false);
	if (getElementData(col, "Parts_inVehicle") == parts) then
		setElementData(veh, "fplus", 5);
	else
		setElementData(veh, "fplus", 20);
	end
	if (getElementData(col, "Tire_inVehicle") == tires) then
		if (getElementData(col, "Scrap_inVehicle") == scrap) then
			if (getElementData(col, "Engine_inVehicle") == engine) then
				if (getElementData(col, "Rotor_inVehicle") == rotor) then
					if (getElementData(col, "fuel") > 0) then
						setVehicleEngineState(veh, true);
						if (seat == 0) then
							bindKey(source, "k", "down", setEngineStateByPlayer);
							triggerClientEvent(source, "displayClientInfo", source, "clientinfotext30", 255, 255, 255);
						end
					else
						triggerClientEvent(source, "displayClientInfo", source, "clientinfotext31", 40, 160, 40);
						setVehicleEngineState(veh, false);
					end
				else
					triggerClientEvent(source, "displayClientInfo", source, "clientinfotext32", 40, 160, 40);
					setVehicleEngineState(veh, false);
				end
			else
				triggerClientEvent(source, "displayClientInfo", source, "clientinfotext33", 40, 160, 40);
				setVehicleEngineState(veh, false);
			end
		else
			triggerClientEvent(source, "displayClientInfo", source, "clientinfotext34", 40, 160, 40);
			setVehicleEngineState(veh, false);
		end
	else
		triggerClientEvent(source, "displayClientInfo", source, "clientinfotext35", 40, 160, 40);
		setVehicleEngineState(veh, false);
	end
end);

addEventHandler("onPlayerVehicleExit", root, function(veh, seat)
	if (seat == 0) then
		setVehicleEngineState(veh, false);
		unbindKey(source, "k", "down", setEngineStateByPlayer);
	end
end);

function getVehicleFuelRemove(id)
	for _,v in ipairs(vehicleFuelInfo) do
		if (v[1] == id) then return v[2]; end
	end
end

setTimer(function()
	for _,v in pairs(getElementsByType("vehicle")) do
		if (getElementModel(v) ~= 509) then
			if (getVehicleEngineState(v) == true) then
				if (getElementData(getElementData(v, "parent"), "fuel") >= 1) then
					setElementData(getElementData(v, "parent"), "fuel", getElementData(getElementData(v, "parent"), "fuel")-(getVehicleFuelRemove(getElementModel(v))*getElementData(v, "fplus"))/60);
				else
					setVehicleEngineState(v, false);
				end
			end
		end
	end
end, 1000, 0);

addEventHandler("repairVehicle", root, function(veh)
	if repairTimer[veh] then triggerClientEvent(source, "displayClientInfo", source, getVehicleName(veh).." "..getLanguageTextServer("clientinfotext38",source), 160, 40, 40) return; end
	repairTimer[veh] = setTimer(fixDayZVehicle, (1000-(math.floor(getElementHealth(veh))))*120, 1, veh, source);
	setElementFrozen(veh, true);
	setElementFrozen(source, true);
	setPedWeaponSlot(source, 0);
	setElementData(veh, "repairer", source);
	setElementData(source, "repairingvehicle", veh);
	setElementData(source, "isInAction", true);
	setPedAnimation(source, "SCRATCHING", "sclng_r", -1, true, false, false, false);
	triggerClientEvent(source,"playSoundForClient",source,"repairstart");
	triggerClientEvent(source, "displayClientInfo", source, getLanguageTextServer("clientinfotext39",source).." "..vehicle_name[getElementModel(veh)], 40, 160, 40);
end);

addEventHandler("cancelVehicleRepair", root, function()
	local player = source;
	local veh = getElementData(player,"repairingvehicle");
	if (veh) then
		setPedAnimation(player, false);
		setElementFrozen(veh, false);
		setElementFrozen(player, false);
		setElementData(player, "isInAction", false);
		killTimer(repairTimer[veh]);
		repairTimer[veh] = nil;
		setElementData(veh, "repairer", nil);
		setElementData(player, "repairingvehicle", nil);
		triggerClientEvent(player,"playSoundForClient",player,"repairstop");
		triggerClientEvent(player, "displayClientInfo", player, getLanguageTextServer("clientinfotext42",player), 160, 40, 40);
	end
end)

function fixDayZVehicle(veh, player)
	if (veh and player) then
		setElementHealth(veh, 1000);
		fixVehicle(veh);
		setPedAnimation(player, false);
		setElementFrozen(veh, false);
		setElementFrozen(player, false);
		setElementData(player, "isInAction", false);
		repairTimer[veh] = nil;
		setElementData(veh, "repairer", nil);
		setElementData(player, "repairingvehicle", nil);
		triggerClientEvent(player,"playSoundForClient",player,"repairstop");
		triggerClientEvent(player, "displayClientInfo", player, getLanguageTextServer("clientinfotext40",player).." "..vehicle_name[getElementModel(veh)], 40, 160, 40);
	end
end

addEventHandler("onPlayerQuit", root, function()
	for _,v in ipairs(getElementsByType("vehicle")) do
		if (getElementData(v, "repairer") and getElementData(v, "repairer") == source) then
			outputDebugString("Vehicle repairer disconnected - destroyed tables", 3);
			killTimer(repairTimer[v]);
			setElementFrozen(v, false);
			repairTimer[v] = nil;
			setElementData(v, "repairer", nil);
		end 
	end
end);

function setEngineStateByPlayer(player)
	local veh = getPedOccupiedVehicle(player);
	if (getElementData(getElementData(veh,"parent"), "fuel") <= 0) then return; end
	if (getVehicleEngineState(veh) == false) then
		setVehicleEngineState(veh, true);
		triggerClientEvent(player, "displayClientInfo", player, "clientinfotext36", 40, 160, 40);
	else
		setVehicleEngineState(veh, false);
		triggerClientEvent(player, "displayClientInfo", player, "clientinfotext37", 160, 40, 40);
	end
end

function backup()
	dbExec(db, "DELETE FROM `vehicles`");
	dbExec(db, "DELETE FROM `tents`");
	dbExec(db, "DELETE FROM `safes`");
	local vc,tc,sc = 0, 0, 0;
	for _,veh in ipairs(getElementsByType("vehicle")) do
		if not getElementData(veh, "helicrash") then
			local col = getElementData(veh, "parent");
			if col then
				if not (getElementData(col,"deadVehicle")) then
					local x,y,z = getElementPosition(veh);
					local rX,rY,rZ = getElementRotation(veh);
					local health = getElementHealth(veh);
					if (health < 500) then health = 500; end
					local _,sx,sy,sz = unpack(getElementData(col, "spawn"));
					--outputChatBox(sx..", "..sy..", "..sz) -- debug info
					local items = {};
					vc = vc+1;
					for _,item in ipairs(backupItemsTable) do
						local quantity = getElementData(col, item[1]) or 0;
						if (quantity > 0) then
							table.insert(items, {item[1], quantity});
						end
					end
					dbExec(db, "INSERT INTO `vehicles` (model, x, y, z, rX, rY, rZ, slots, fuel, engines, moving, parts, scrap, rotor, items, dayz, health, sx, sy, sz, id) VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)", 
					getElementModel(veh), x, y, z, rX, rY, rZ, getElementData(col, "MAX_Slots") or 20, getElementData(col, "fuel") or 0, getElementData(col, "Engine_inVehicle") or 0, 
					getElementData(col, "Tire_inVehicle") or 0, getElementData(col, "Parts_inVehicle") or 0, getElementData(col, "Scrap_inVehicle") or 0, getElementData(col, "Rotor_inVehicle") or 0, toJSON(items), getElementData(veh, "dayzvehicle") or 0, health, sx, sy, sz, vc);
				end
			end
		end
	end
	for _,col in ipairs(getElementsByType("colshape")) do
		if getElementData(col, "tent") then
			local tent = getElementData(col, "parent");
			if tent then
				local x,y,z = getElementPosition(tent);
				local rX,rY,rZ = getElementRotation(tent);
				local items = {};
				tc = tc+1;
				for _,item in ipairs(backupItemsTable) do
					local quantity = getElementData(col, item[1]) or 0;
					if (quantity > 0) then
						table.insert(items, {item[1], quantity});
					end
				end
				dbExec(db, "INSERT INTO `tents` (model, x, y, z, rX, rY, rZ, slots, scale, items, id) VALUES(?,?,?,?,?,?,?,?,?,?,?)", 
				getElementModel(tent), x, y, z, rX, rY, rZ, getElementData(col, "MAX_Slots") or 100, getObjectScale(tent), toJSON(items), tc);
				--outputDebugString( ""..x..", "..y.." ,"..z.."", 3);

			end
		elseif getElementData(col, "safe") then
			if (getElementData(col,getElementData(col,"id")) ~= "raided") then
				local safe = getElementData(col, "parent");
				if safe then
					local x,y,z = getElementPosition(safe);
					local rX,rY,rZ = getElementRotation(safe);
					local items = {};
					sc = sc+1;
					for _,item in ipairs(backupItemsTable) do
						local quantity = getElementData(col, item[1]) or 0;
						if (quantity > 0) then
							table.insert(items, {item[1], quantity});
						end
					end
					dbExec(db, "INSERT INTO `safes` (model, x, y, z, rX, rY, rZ, slots, scale, code, safe_id, items, id) VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)", 
					getElementModel(safe), x, y, z, rX, rY, rZ, getElementData(col, "MAX_Slots") or 50, getObjectScale(safe), getElementData(col, getElementData(col, "id")), getElementData(col, "id"), toJSON(items), sc);
				end
			end
		end
	end
	--outputDebugString("Backup done ("..tc.." Tents), ("..sc.." Safes) and ("..vc.." Vehicles)", 3);
end

function createDayzVeh(model, x, y, z, rX, rY, rZ, slots, fuel, engines, moving, parts, scrap, rotor, items, dayz, health, sx, sy, sz)
	local veh = createVehicle(model, x, y, z);
	local vehCol = createColSphere((x+5), y, z, 4);
	setElementRotation(veh, rX, rY, rZ);
	attachElements(vehCol, veh);
	if (model == 528) then setVehicleDamageProof(veh,true); end
	setElementHealth(veh, tonumber(health));
	setElementData(vehCol, "parent", veh);
	setElementData(veh, "parent", vehCol);
	setElementData(veh, "dayzvehicle", tonumber(dayz));
	setElementData(vehCol, "vehicle", true);
	setElementData(vehCol, "MAX_Slots", tonumber(slots));
	setElementData(vehCol, "Tire_inVehicle", tonumber(moving));
	setElementData(vehCol, "Engine_inVehicle", tonumber(engines));
	setElementData(vehCol, "Parts_inVehicle", tonumber(parts));
	setElementData(vehCol, "Scrap_inVehicle", tonumber(scrap));
	setElementData(vehCol, "Rotor_inVehicle", tonumber(rotor));
	local needtires,needengine,needparts,needscrap,needrotor,_ = getVehicleAddonInfos(model);
	setElementData(vehCol, "needtires", needtires);
	setElementData(vehCol, "needparts", needparts);
	setElementData(vehCol, "needscrap", needscrap);
	setElementData(vehCol, "needrotor", needrotor);
	setElementData(vehCol, "needengines", needengine);
	setElementData(vehCol, "spawn", {model, sx, sy, sz});
	setElementData(vehCol, "fuel", tonumber(fuel));
	for _,v in ipairs(fromJSON(items)) do
		setElementData(vehCol, v[1], v[2]);
	end
end

function createDayzTent(model, x, y, z, rX, rY, rZ, slots, scale, items)
	local tent = createObject(model, x, y, z);
	local tentCol = createColSphere(x, y, z, 3);
	setElementRotation(tent, rX, rY, rZ);
	setObjectScale(tent, scale);
	attachElements(tentCol, tent);
	setElementData(tentCol, "parent", tent);
	setElementData(tent, "parent", tentCol);
	setElementData(tentCol, "tent", true);
	setElementData(tentCol, "MAX_Slots", slots);
	for _,v in ipairs(fromJSON(items)) do
		setElementData(tentCol, v[1], v[2]);
	end
end

function createDayzSafe(model, x, y, z, rX, rY, rZ, slots, scale, code, safe_id, items)
	local safe = createObject(model, x, y, z);
	local safeCol = createColSphere(x, y, z, 3);
	setElementCollisionsEnabled(safe,false)
	setElementRotation(safe, rX, rY, rZ);
	setObjectScale(safe, scale);
	attachElements(safeCol, safe);
	setElementData(safeCol, "parent", safe);
	setElementData(safe, "parent", safeCol);
	setElementData(safeCol, "safe", true);
	setElementData(safeCol, safe_id, code);
	setElementData(safeCol, "id", safe_id);
	setElementData(safeCol, "MAX_Slots", slots);
	for _,v in ipairs(fromJSON(items)) do
		setElementData(safeCol, v[1], v[2]);
	end
end

function loadBackup()
	for _,v in pairs(getElementsByType("vehicle")) do
		local col = getElementData(v, "parent");
		if col then
			destroyElement(col);
		end
		destroyElement(v);
	end
	local p = dbPoll(dbQuery(db, "SELECT * FROM `vehicles`"), -1);
	if (#p > 0) then
		for _,d in pairs(p) do
			createDayzVeh(d["model"], d["x"], d["y"], d["z"], d["rX"], d["rY"], d["rZ"], d["slots"], d["fuel"], d["engines"], d["moving"], d["parts"], d["scrap"], d["rotor"], d["items"], d["dayz"], d["health"], d["sx"], d["sy"], d["sz"]);
		end
	end
	local p2 = dbPoll(dbQuery(db, "SELECT * FROM `tents`"), -1);
	if (#p2 > 0) then
		for _,d in pairs(p2) do
			createDayzTent(d["model"], d["x"], d["y"], d["z"], d["rX"], d["rY"], d["rZ"], d["slots"], d["scale"], d["items"]);
		end
	end
	local p2 = dbPoll(dbQuery(db, "SELECT * FROM `safes`"), -1);
	if (#p2 > 0) then
		for _,d in pairs(p2) do
			createDayzSafe(d["model"], d["x"], d["y"], d["z"], d["rX"], d["rY"], d["rZ"], d["slots"], d["scale"], d["code"], d["safe_id"], d["items"]);
		end
	end
end

if not backupdone then
	spawnDayZVehicles();
	backupdone = true;
else
	loadBackup();
end
setTimer(backup, (3000), 0);

addCommandHandler("dobackup", function(player)
	if isObjectInACLGroup("user."..getAccountName(getPlayerAccount(player)), aclGetGroup("Admin")) then
		backup();
	end
end);

addCommandHandler("loadbackup",function(player)
	if isObjectInACLGroup("user."..getAccountName(getPlayerAccount(player)), aclGetGroup("Admin")) then
		loadBackup();
	end
end);

for _,v in ipairs(patrolPoints) do
	local x,y,z = v[1], v[2], v[3];
	patrolCol = createColSphere(x, y, z, 3);
	setElementData(patrolCol, "patrolstation", true);
end

createHeliCrashSite();
createHospitalPacks();